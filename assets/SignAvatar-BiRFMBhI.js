import{j as e,C as l,O as d,u as c}from"./three-vendor-BEm1ogwd.js";import{r as o}from"./react-vendor-CViWwmvK.js";import{m as n}from"./animation-vendor-D0pVqMMr.js";function m({animation:a}){const i=o.useRef(null);return c(t=>{if(i.current){if(a==="idle"&&(i.current.rotation.y=Math.sin(t.clock.elapsedTime*.5)*.1,i.current.position.y=Math.sin(t.clock.elapsedTime*2)*.05),a==="hello"){const s=t.clock.elapsedTime;i.current.rotation.x=Math.sin(s*3)*.2}if(a==="thankyou"){const s=t.clock.elapsedTime;i.current.rotation.z=Math.sin(s*2)*.15}}}),e.jsxs("group",{ref:i,children:[e.jsxs("mesh",{position:[0,1.5,0],children:[e.jsx("sphereGeometry",{args:[.3,32,32]}),e.jsx("meshStandardMaterial",{color:"#38bdf8"})]}),e.jsxs("mesh",{position:[0,.7,0],children:[e.jsx("boxGeometry",{args:[.5,.8,.3]}),e.jsx("meshStandardMaterial",{color:"#0ea5e9"})]}),e.jsxs("group",{position:[-.4,.9,0],children:[e.jsxs("mesh",{children:[e.jsx("cylinderGeometry",{args:[.08,.08,.6,16]}),e.jsx("meshStandardMaterial",{color:"#38bdf8"})]}),e.jsxs("mesh",{position:[0,-.4,0],children:[e.jsx("sphereGeometry",{args:[.12,16,16]}),e.jsx("meshStandardMaterial",{color:"#60a5fa"})]})]}),e.jsxs("group",{position:[.4,.9,0],children:[e.jsxs("mesh",{children:[e.jsx("cylinderGeometry",{args:[.08,.08,.6,16]}),e.jsx("meshStandardMaterial",{color:"#38bdf8"})]}),e.jsxs("mesh",{position:[0,-.4,0],children:[e.jsx("sphereGeometry",{args:[.12,16,16]}),e.jsx("meshStandardMaterial",{color:"#60a5fa"})]})]}),e.jsx("pointLight",{intensity:.5,distance:3,color:"#38bdf8"})]})}const u=({message:a,isActive:i})=>{const[t,s]=o.useState("idle");return o.useEffect(()=>{if(!i){s("idle");return}const r=a.toLowerCase();r.includes("hello")||r.includes("hi")?(s("hello"),setTimeout(()=>s("idle"),2e3)):r.includes("thank")||r.includes("thanks")?(s("thankyou"),setTimeout(()=>s("idle"),2e3)):r.includes("bye")||r.includes("goodbye")?(s("goodbye"),setTimeout(()=>s("idle"),2e3)):r.includes("welcome")?(s("welcome"),setTimeout(()=>s("idle"),2e3)):(s("gesture"),setTimeout(()=>s("idle"),1500))},[a,i]),e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-400 font-medium",children:"Sign Avatar Response:"}),e.jsxs("div",{className:"relative bg-gradient-to-b from-dark-800 to-dark-900 rounded-lg overflow-hidden border border-white/10",children:[e.jsxs(l,{camera:{position:[0,1.5,3],fov:50},className:"h-48",children:[e.jsx("ambientLight",{intensity:.5}),e.jsx("spotLight",{position:[5,5,5],angle:.3,penumbra:1,intensity:1,castShadow:!0}),e.jsx("pointLight",{position:[-5,5,-5],intensity:.5,color:"#f59e0b"}),e.jsx(o.Suspense,{fallback:null,children:e.jsx(m,{animation:t})}),e.jsx(d,{enableZoom:!1,enablePan:!1,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/2,autoRotate:t==="idle",autoRotateSpeed:.5})]}),e.jsx("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2",children:e.jsx(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"px-4 py-1.5 bg-primary-500/20 backdrop-blur-sm border border-primary-500/30 rounded-full",children:e.jsx("span",{className:"text-xs text-primary-400 font-medium capitalize",children:t==="idle"?"Listening...":`Signing: ${t}`})},t)})]}),a&&e.jsx(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-white/5 border border-white/10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-300 italic",children:['"',a,'"']})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Avatar Status: Active"}),e.jsxs("span",{children:["Animation: ",t]})]})]})},j=()=>{console.log("Avatar assets ready for preload")};export{u as default,j as preloadAvatar};
