import{j as e}from"./three-vendor-L49L8DM7.js";import{r as o}from"./react-vendor-CXK_3RTl.js";import{m as p}from"./animation-vendor-1fEUMvyv.js";import{V as N,a as v}from"./SignLanguageMode-7TTXKruT.js";import{c as k,P}from"./index-DYpc_XSR.js";import"./chart-vendor-DrYOXXwU.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=k("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),A=({text:l,enabled:m,showSubtitles:u})=>{const[r,d]=o.useState(!1),[i,n]=o.useState(!1),[y,h]=o.useState(""),[a,w]=o.useState(!1);o.useEffect(()=>{"speechSynthesis"in window&&w(!0)},[]),o.useEffect(()=>(m&&l&&a&&g(l),()=>{a&&window.speechSynthesis.cancel()}),[l,m]);const g=c=>{if(!a)return;window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(c);s.rate=.9,s.pitch=1,s.volume=1;const x=window.speechSynthesis.getVoices(),f=x.find(t=>t.lang.startsWith("en")&&t.name.includes("Female"))||x.find(t=>t.lang.startsWith("en"));f&&(s.voice=f),s.onstart=()=>{d(!0),n(!1)},s.onend=()=>{d(!1),n(!1),h("")},s.onerror=t=>{console.error("Speech synthesis error:",t),d(!1),n(!1)},s.onboundary=t=>{if(t.name==="word"&&u){const b=c.substr(t.charIndex,t.charLength||10);h(b)}},window.speechSynthesis.speak(s)},j=()=>{a&&(i?(window.speechSynthesis.resume(),n(!1)):(window.speechSynthesis.pause(),n(!0)))},S=()=>{a&&(window.speechSynthesis.cancel(),d(!1),n(!1),h(""))};return!m||!a?null:e.jsxs(p.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 border border-white/10 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p.div,{animate:r&&!i?{scale:[1,1.2,1]}:{},transition:{duration:.8,repeat:1/0},children:e.jsx(N,{className:`w-5 h-5 ${r?"text-primary-400":"text-gray-400"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:r?i?"Speech Paused":"Speaking...":"Ready to Speak"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Web Speech API"})]})]}),r&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:j,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",title:i?"Resume":"Pause",children:i?e.jsx(P,{className:"w-4 h-4 text-green-400"}):e.jsx(I,{className:"w-4 h-4 text-yellow-400"})}),e.jsx("button",{onClick:S,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Stop",children:e.jsx(v,{className:"w-4 h-4 text-red-400"})})]})]}),u&&r&&e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-dark-800 border border-primary-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-pulse mt-2"}),e.jsx("p",{className:"text-xs text-primary-400 font-medium uppercase tracking-wide",children:"Live Subtitles"})]}),e.jsx("p",{className:"text-base text-gray-200 leading-relaxed",children:l.split(" ").map((c,s)=>e.jsxs("span",{className:`${c===y?"bg-primary-500/30 text-primary-300 px-1 rounded":""} transition-all duration-200`,children:[c," "]},s))})]}),r&&!i&&e.jsx("div",{className:"flex items-center justify-center space-x-1 h-12 bg-white/5 rounded-lg",children:[...Array(20)].map((c,s)=>e.jsx(p.div,{className:"w-1 bg-gradient-to-t from-primary-500 to-primary-300 rounded-full",animate:{height:["20%","80%","20%"]},transition:{duration:.6,repeat:1/0,delay:s*.05}},s))}),!a&&e.jsx("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:e.jsx("p",{className:"text-xs text-yellow-400",children:"Voice output is not supported in your browser. Please use a modern browser like Chrome, Edge, or Safari."})})]})};export{A as default};
